(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ae=(t,e)=>t===e,Z=Symbol("solid-proxy"),ce=Symbol("solid-track"),tt={equals:ae};let Wt=Kt;const B=1,et=2,Gt={owned:null,cleanups:null,context:null,owner:null};var p=null;let ut=null,ue=null,m=null,b=null,M=null,rt=0;function J(t,e){const n=m,o=p,i=t.length===0,s=e===void 0?o:e,l=i?Gt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},r=i?t:()=>t(()=>E(()=>at(l)));p=l,m=null;try{return Y(r,!0)}finally{m=n,p=o}}function O(t,e){e=e?Object.assign({},tt,e):tt;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},o=i=>(typeof i=="function"&&(i=i(n.value)),Yt(n,i));return[Xt.bind(n),o]}function I(t,e,n){const o=wt(t,e,!1,B);X(o)}function lt(t,e,n){Wt=xe;const o=wt(t,e,!1,B);o.user=!0,M?M.push(o):X(o)}function w(t,e,n){n=n?Object.assign({},tt,n):tt;const o=wt(t,e,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,X(o),Xt.bind(o)}function E(t){if(m===null)return t();const e=m;m=null;try{return t()}finally{m=e}}function zt(t){lt(()=>E(t))}function Vt(t){return p===null||(p.cleanups===null?p.cleanups=[t]:p.cleanups.push(t)),t}function fe(t,e){const n=Symbol("context");return{id:n,Provider:ye(n),defaultValue:t}}function de(t){let e;return p&&p.context&&(e=p.context[t.id])!==void 0?e:t.defaultValue}function he(t){const e=w(t),n=w(()=>xt(e()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}function Xt(){if(this.sources&&this.state)if(this.state===B)X(this);else{const t=b;b=null,Y(()=>ot(this),!1),b=t}if(m){const t=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(t)):(m.sources=[this],m.sourceSlots=[t]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function Yt(t,e,n){let o=t.value;return(!t.comparator||!t.comparator(o,e))&&(t.value=e,t.observers&&t.observers.length&&Y(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],l=ut&&ut.running;l&&ut.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?b.push(s):M.push(s),s.observers&&qt(s)),l||(s.state=B)}if(b.length>1e6)throw b=[],new Error},!1)),e}function X(t){if(!t.fn)return;at(t);const e=rt;ge(t,t.value,e)}function ge(t,e,n){let o;const i=p,s=m;m=p=t;try{o=t.fn(e)}catch(l){return t.pure&&(t.state=B,t.owned&&t.owned.forEach(at),t.owned=null),t.updatedAt=n+1,Jt(l)}finally{m=s,p=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Yt(t,o):t.value=o,t.updatedAt=n)}function wt(t,e,n,o=B,i){const s={fn:t,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:p,context:p?p.context:null,pure:n};return p===null||p!==Gt&&(p.owned?p.owned.push(s):p.owned=[s]),s}function nt(t){if(t.state===0)return;if(t.state===et)return ot(t);if(t.suspense&&E(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<rt);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===B)X(t);else if(t.state===et){const o=b;b=null,Y(()=>ot(t,e[0]),!1),b=o}}function Y(t,e){if(b)return t();let n=!1;e||(b=[]),M?n=!0:M=[],rt++;try{const o=t();return pe(n),o}catch(o){n||(M=null),b=null,Jt(o)}}function pe(t){if(b&&(Kt(b),b=null),t)return;const e=M;M=null,e.length&&Y(()=>Wt(e),!1)}function Kt(t){for(let e=0;e<t.length;e++)nt(t[e])}function xe(t){let e,n=0;for(e=0;e<t.length;e++){const o=t[e];o.user?t[n++]=o:nt(o)}for(e=0;e<n;e++)nt(t[e])}function ot(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const o=t.sources[n];if(o.sources){const i=o.state;i===B?o!==e&&(!o.updatedAt||o.updatedAt<rt)&&nt(o):i===et&&ot(o,e)}}}function qt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=et,n.pure?b.push(n):M.push(n),n.observers&&qt(n))}}function at(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),o=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),l=n.observerSlots.pop();o<i.length&&(s.sourceSlots[l]=o,i[o]=s,n.observerSlots[o]=l)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)at(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function me(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Jt(t,e=p){throw me(t)}function xt(t){if(typeof t=="function"&&!t.length)return xt(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const o=xt(t[n]);Array.isArray(o)?e.push.apply(e,o):e.push(o)}return e}return t}function ye(t,e){return function(o){let i;return I(()=>i=E(()=>(p.context={...p.context,[t]:o.value},he(()=>o.children))),void 0),i}}const ve=Symbol("fallback");function Mt(t){for(let e=0;e<t.length;e++)t[e]()}function Ce(t,e,n={}){let o=[],i=[],s=[],l=0,r=e.length>1?[]:null;return Vt(()=>Mt(s)),()=>{let c=t()||[],f=c.length,d,a;return c[ce],E(()=>{let v,S,T,H,F,A,C,x,y;if(f===0)l!==0&&(Mt(s),s=[],o=[],i=[],l=0,r&&(r=[])),n.fallback&&(o=[ve],i[0]=J(k=>(s[0]=k,n.fallback())),l=1);else if(l===0){for(i=new Array(f),a=0;a<f;a++)o[a]=c[a],i[a]=J(g);l=f}else{for(T=new Array(f),H=new Array(f),r&&(F=new Array(f)),A=0,C=Math.min(l,f);A<C&&o[A]===c[A];A++);for(C=l-1,x=f-1;C>=A&&x>=A&&o[C]===c[x];C--,x--)T[x]=i[C],H[x]=s[C],r&&(F[x]=r[C]);for(v=new Map,S=new Array(x+1),a=x;a>=A;a--)y=c[a],d=v.get(y),S[a]=d===void 0?-1:d,v.set(y,a);for(d=A;d<=C;d++)y=o[d],a=v.get(y),a!==void 0&&a!==-1?(T[a]=i[d],H[a]=s[d],r&&(F[a]=r[d]),a=S[a],v.set(y,a)):s[d]();for(a=A;a<f;a++)a in T?(i[a]=T[a],s[a]=H[a],r&&(r[a]=F[a],r[a](a))):i[a]=J(g);i=i.slice(0,l=f),o=c.slice(0)}return i});function g(v){if(s[a]=v,r){const[S,T]=O(a);return r[a]=T,e(c[a],S)}return e(c[a])}}}function u(t,e){return E(()=>t(e||{}))}function q(){return!0}const mt={get(t,e,n){return e===Z?n:t.get(e)},has(t,e){return e===Z?!0:t.has(e)},set:q,deleteProperty:q,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:q,deleteProperty:q}},ownKeys(t){return t.keys()}};function ft(t){return(t=typeof t=="function"?t():t)?t:{}}function we(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function dt(...t){let e=!1;for(let l=0;l<t.length;l++){const r=t[l];e=e||!!r&&Z in r,t[l]=typeof r=="function"?(e=!0,w(r)):r}if(e)return new Proxy({get(l){for(let r=t.length-1;r>=0;r--){const c=ft(t[r])[l];if(c!==void 0)return c}},has(l){for(let r=t.length-1;r>=0;r--)if(l in ft(t[r]))return!0;return!1},keys(){const l=[];for(let r=0;r<t.length;r++)l.push(...Object.keys(ft(t[r])));return[...new Set(l)]}},mt);const n={},o=Object.create(null);for(let l=t.length-1;l>=0;l--){const r=t[l];if(!r)continue;const c=Object.getOwnPropertyNames(r);for(let f=c.length-1;f>=0;f--){const d=c[f];if(d==="__proto__"||d==="constructor")continue;const a=Object.getOwnPropertyDescriptor(r,d);if(!o[d])o[d]=a.get?{enumerable:!0,configurable:!0,get:we.bind(n[d]=[a.get.bind(r)])}:a.value!==void 0?a:void 0;else{const g=n[d];g&&(a.get?g.push(a.get.bind(r)):a.value!==void 0&&g.push(()=>a.value))}}}const i={},s=Object.keys(o);for(let l=s.length-1;l>=0;l--){const r=s[l],c=o[r];c&&c.get?Object.defineProperty(i,r,c):i[r]=c?c.value:void 0}return i}function Qt(t,...e){if(Z in t){const i=new Set(e.length>1?e.flat():e[0]),s=e.map(l=>new Proxy({get(r){return l.includes(r)?t[r]:void 0},has(r){return l.includes(r)&&r in t},keys(){return l.filter(r=>r in t)}},mt));return s.push(new Proxy({get(l){return i.has(l)?void 0:t[l]},has(l){return i.has(l)?!1:l in t},keys(){return Object.keys(t).filter(l=>!i.has(l))}},mt)),s}const n={},o=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,i),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let r=!1,c=0;for(const f of e)f.includes(i)&&(r=!0,l?o[c][i]=s.value:Object.defineProperty(o[c],i,s)),++c;r||(l?n[i]=s.value:Object.defineProperty(n,i,s))}return[...o,n]}const be=t=>`Stale read from <${t}>.`;function ct(t){const e="fallback"in t&&{fallback:()=>t.fallback};return w(Ce(()=>t.each,t.children,e||void 0))}function Zt(t){const e=t.keyed,n=w(()=>t.when,void 0,{equals:(o,i)=>e?o===i:!o==!i});return w(()=>{const o=n();if(o){const i=t.children;return typeof i=="function"&&i.length>0?E(()=>i(e?o:()=>{if(!E(n))throw be("Show");return t.when})):i}return t.fallback},void 0,void 0)}const Pe=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Se=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Pe]),Te=new Set(["innerHTML","textContent","innerText","children"]),Ae=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ke=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ee(t,e){const n=ke[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Ie=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),$e=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Me={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Le(t,e,n){let o=n.length,i=e.length,s=o,l=0,r=0,c=e[i-1].nextSibling,f=null;for(;l<i||r<s;){if(e[l]===n[r]){l++,r++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===l){const d=s<o?r?n[r-1].nextSibling:n[s-r]:c;for(;r<s;)t.insertBefore(n[r++],d)}else if(s===r)for(;l<i;)(!f||!f.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[s-1]&&n[r]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(n[r++],e[l++].nextSibling),t.insertBefore(n[--s],d),e[i]=n[s]}else{if(!f){f=new Map;let a=r;for(;a<s;)f.set(n[a],a++)}const d=f.get(e[l]);if(d!=null)if(r<d&&d<s){let a=l,g=1,v;for(;++a<i&&a<s&&!((v=f.get(e[a]))==null||v!==d+g);)g++;if(g>d-r){const S=e[l];for(;r<d;)t.insertBefore(n[r++],S)}else t.replaceChild(n[r++],e[l++])}else l++;else e[l++].remove()}}}const Lt="_$DX_DELEGATE";function De(t,e,n,o={}){let i;return J(s=>{i=s,e===document?t():it(e,t(),e.firstChild?null:void 0,n)},o.owner),()=>{i(),e.textContent=""}}function G(t,e,n){let o;const i=()=>{const l=document.createElement("template");return l.innerHTML=t,l.content.firstChild},s=()=>(o||(o=i())).cloneNode(!0);return s.cloneNode=s,s}function te(t,e=window.document){const n=e[Lt]||(e[Lt]=new Set);for(let o=0,i=t.length;o<i;o++){const s=t[o];n.has(s)||(n.add(s),e.addEventListener(s,Fe))}}function yt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Be(t,e,n,o){o==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,o)}function Oe(t,e){e==null?t.removeAttribute("class"):t.className=e}function He(t,e,n,o){if(o)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function Re(t,e,n={}){const o=Object.keys(e||{}),i=Object.keys(n);let s,l;for(s=0,l=i.length;s<l;s++){const r=i[s];!r||r==="undefined"||e[r]||(Dt(t,r,!1),delete n[r])}for(s=0,l=o.length;s<l;s++){const r=o[s],c=!!e[r];!r||r==="undefined"||n[r]===c||!c||(Dt(t,r,!0),n[r]=c)}return n}function Ne(t,e,n){if(!e)return n?yt(t,"style"):e;const o=t.style;if(typeof e=="string")return o.cssText=e;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&o.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(o.setProperty(s,i),n[s]=i);return n}function ee(t,e={},n,o){const i={};return I(()=>i.children=z(t,e.children,i.children)),I(()=>typeof e.ref=="function"&&ne(e.ref,t)),I(()=>je(t,e,n,!0,i,!0)),i}function ne(t,e,n){return E(()=>t(e,n))}function it(t,e,n,o){if(n!==void 0&&!o&&(o=[]),typeof e!="function")return z(t,e,o,n);I(i=>z(t,e(),i,n),o)}function je(t,e,n,o,i={},s=!1){e||(e={});for(const l in i)if(!(l in e)){if(l==="children")continue;i[l]=Bt(t,l,null,i[l],n,s)}for(const l in e){if(l==="children")continue;const r=e[l];i[l]=Bt(t,l,r,i[l],n,s)}}function Ue(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Dt(t,e,n){const o=e.trim().split(/\s+/);for(let i=0,s=o.length;i<s;i++)t.classList.toggle(o[i],n)}function Bt(t,e,n,o,i,s){let l,r,c,f,d;if(e==="style")return Ne(t,n,o);if(e==="classList")return Re(t,n,o);if(n===o)return o;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const a=e.slice(3);o&&t.removeEventListener(a,o),n&&t.addEventListener(a,n)}else if(e.slice(0,10)==="oncapture:"){const a=e.slice(10);o&&t.removeEventListener(a,o,!0),n&&t.addEventListener(a,n,!0)}else if(e.slice(0,2)==="on"){const a=e.slice(2).toLowerCase(),g=Ie.has(a);if(!g&&o){const v=Array.isArray(o)?o[0]:o;t.removeEventListener(a,v)}(g||n)&&(He(t,a,n,g),g&&te([a]))}else if(e.slice(0,5)==="attr:")yt(t,e.slice(5),n);else if((d=e.slice(0,5)==="prop:")||(c=Te.has(e))||!i&&((f=Ee(e,t.tagName))||(r=Se.has(e)))||(l=t.nodeName.includes("-")))d&&(e=e.slice(5),r=!0),e==="class"||e==="className"?Oe(t,n):l&&!r&&!c?t[Ue(e)]=n:t[f||e]=n;else{const a=i&&e.indexOf(":")>-1&&Me[e.split(":")[0]];a?Be(t,a,e,n):yt(t,Ae[e]||e,n)}return n}function Fe(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[e];if(o&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?o.call(n,i,t):o.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function z(t,e,n,o,i){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,l=o!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(l){let r=n[0];r&&r.nodeType===3?r.data!==e&&(r.data=e):r=document.createTextNode(e),n=_(t,n,o,r)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=_(t,n,o);else{if(s==="function")return I(()=>{let r=e();for(;typeof r=="function";)r=r();n=z(t,r,n,o)}),()=>n;if(Array.isArray(e)){const r=[],c=n&&Array.isArray(n);if(vt(r,e,n,i))return I(()=>n=z(t,r,n,o,!0)),()=>n;if(r.length===0){if(n=_(t,n,o),l)return n}else c?n.length===0?Ot(t,r,o):Le(t,n,r):(n&&_(t),Ot(t,r));n=r}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=_(t,n,o,e);_(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function vt(t,e,n,o){let i=!1;for(let s=0,l=e.length;s<l;s++){let r=e[s],c=n&&n[t.length],f;if(!(r==null||r===!0||r===!1))if((f=typeof r)=="object"&&r.nodeType)t.push(r);else if(Array.isArray(r))i=vt(t,r,c)||i;else if(f==="function")if(o){for(;typeof r=="function";)r=r();i=vt(t,Array.isArray(r)?r:[r],Array.isArray(c)?c:[c])||i}else t.push(r),i=!0;else{const d=String(r);c&&c.nodeType===3&&c.data===d?t.push(c):t.push(document.createTextNode(d))}}return i}function Ot(t,e,n=null){for(let o=0,i=e.length;o<i;o++)t.insertBefore(e[o],n)}function _(t,e,n,o){if(n===void 0)return t.textContent="";const i=o||document.createTextNode("");if(e.length){let s=!1;for(let l=e.length-1;l>=0;l--){const r=e[l];if(i!==r){const c=r.parentNode===t;!s&&!l?c?t.replaceChild(i,r):t.insertBefore(i,n):c&&r.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const _e="http://www.w3.org/2000/svg";function We(t,e=!1){return e?document.createElementNS(_e,t):document.createElement(t)}function Ge(t){const[e,n]=Qt(t,["component"]),o=w(()=>e.component);return w(()=>{const i=o();switch(typeof i){case"function":return E(()=>i(n));case"string":const s=$e.has(i),l=We(i,s);return ee(l,n,s),l}})}let ze={data:""},Ve=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ze,Xe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ye=/\/\*[^]*?\*\/|  +/g,Ht=/\n+/g,R=(t,e)=>{let n="",o="",i="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":o+=s[1]=="f"?R(l,s):s+"{"+R(l,s[1]=="k"?"":e)+"}":typeof l=="object"?o+=R(l,e?e.replace(/([^,])+/g,r=>s.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,r):r?r+" "+c:c)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=R.p?R.p(s,l):s+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+o},$={},oe=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+oe(t[n]);return e}return t},Ke=(t,e,n,o,i)=>{let s=oe(t),l=$[s]||($[s]=(c=>{let f=0,d=11;for(;f<c.length;)d=101*d+c.charCodeAt(f++)>>>0;return"go"+d})(s));if(!$[l]){let c=s!==t?t:(f=>{let d,a,g=[{}];for(;d=Xe.exec(f.replace(Ye,""));)d[4]?g.shift():d[3]?(a=d[3].replace(Ht," ").trim(),g.unshift(g[0][a]=g[0][a]||{})):g[0][d[1]]=d[2].replace(Ht," ").trim();return g[0]})(t);$[l]=R(i?{["@keyframes "+l]:c}:c,n?"":"."+l)}let r=n&&$.g?$.g:null;return n&&($.g=$[l]),((c,f,d,a)=>{a?f.data=f.data.replace(a,c):f.data.indexOf(c)===-1&&(f.data=d?c+f.data:f.data+c)})($[l],e,o,r),l},qe=(t,e,n)=>t.reduce((o,i,s)=>{let l=e[s];if(l&&l.call){let r=l(n),c=r&&r.props&&r.props.className||/^go/.test(r)&&r;l=c?"."+c:r&&typeof r=="object"?r.props?"":R(r,""):r===!1?"":r}return o+i+(l??"")},"");function st(t){let e=this||{},n=t.call?t(e.p):t;return Ke(n.unshift?n.raw?qe(n,[].slice.call(arguments,1),e.p):n.reduce((o,i)=>Object.assign(o,i&&i.call?i(e.p):i),{}):n,Ve(e.target),e.g,e.o,e.k)}st.bind({g:1});st.bind({k:1});const ie=fe();function Je(t){return u(ie.Provider,{value:t.theme,get children(){return t.children}})}function Qe(t){let e=this||{};return(...n)=>{const o=i=>{const s=de(ie),l=dt(i,{theme:s}),r=dt(l,{get class(){const v=l.class,S="class"in l&&/^go[0-9]+/.test(v);let T=st.apply({target:e.target,o:S,p:l,g:e.g},n);return[v,T].filter(Boolean).join(" ")}}),[c,f]=Qt(r,["as","theme"]),d=f,a=c.as||t;let g;return typeof a=="function"?g=a(d):e.g==1?(g=document.createElement(a),ee(g,d)):g=Ge(dt({component:a},d)),g};return o.class=i=>E(()=>st.apply({target:e.target,p:i,g:e.g},n)),o}}const h=new Proxy(Qe,{get(t,e){return t(e)}}),Ze=h.div(()=>({position:"absolute",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"})),tn=h.div(()=>({display:"flex",flexDirection:"row",height:"calc(100% - 90px)"})),en=h.div(({theme:t})=>({width:"100%",height:"20px",backgroundColor:t.colors.primary,borderBottom:"1px solid #000",display:"flex",alignItems:"center"})),nn=h.div(()=>({position:"relative",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:"5px",paddingRight:"5px",fontFamily:"Arial",fontSize:"12px",boxSizing:"border-box",border:"1px solid transparent",cursor:"default","&:hover":{borderTopColor:"#ffffff",borderLeftColor:"#ffffff",borderRightColor:"#000",borderBottomColor:"#000"},"&::first-letter":{textDecoration:"underline",borderBottom:"2px solid red",paddingBottom:"1px"}})),on=h.span(()=>({borderBottom:"1px solid #606060",paddingBottom:"0px",lineHeight:"1",display:"inline-block"})),sn=h.div(()=>({position:"absolute",left:"0",top:"auto",bottom:"0",transform:"translateY(100%)",backgroundColor:"#c0c0c0",zIndex:1,display:"flex",flexDirection:"column",borderLeft:"1px solid #ffffff",borderTop:"1px solid #ffffff",borderRight:"1px solid #000000",borderBottom:"1px solid #000000"})),rn=h.button(()=>({fontSize:"12px",border:"none",background:"none",paddingLeft:"20px",paddingRight:"20px",textAlign:"center",backgroundColor:"#c0c0c0",marginLeft:"2px",marginRight:"2px","&:hover":{backgroundColor:"#0300a3",color:"#ffffff"}}));var ln=G("<div>");const bt=t=>{let e;const n=o=>{o.stopPropagation(),o.preventDefault(),(t.target?t.target:e).contains(o.target)||t.onClickAway()};return zt(()=>{document.addEventListener("pointerdown",n)}),Vt(()=>{document.removeEventListener("pointerdown",n)}),(()=>{var o=ln(),i=e;return typeof i=="function"?ne(i,o):e=o,it(o,()=>t.children),o})()},an=t=>u(bt,{get onClickAway(){return t.close},get children(){return u(sn,{get children(){return u(ct,{get each(){return t.items},children:e=>u(rn,{type:"button",onClick:()=>{e.onClick(),t.close()},get children(){return e.title}})})}})}});var cn=G("<span>");const un=t=>{const[e,n]=O(!1),o=t.name.charAt(0),i=t.name.slice(1);return u(nn,{get children(){return[(()=>{var s=cn();return s.$$pointerdown=l=>{n(!e()),l.stopPropagation(),l.preventDefault()},it(s,u(on,{children:o}),null),it(s,i,null),s})(),u(Zt,{get when(){return e()},get children(){return u(an,{get items(){return t.items},close:n})}})]}})};te(["pointerdown"]);const fn=h.div(()=>({position:"absolute",width:"100%",height:"100%",border:"1px solid #000",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"})),dn=h.div(()=>({position:"relative",width:"375px",backgroundColor:"#c0c0c0",borderLeft:"1px solid #fff",borderTop:"1px solid #fff",borderBottom:"1px solid #000",borderRight:"1px solid #000",padding:"3px",pointerEvents:"auto",cursor:"default",userSelect:"none"})),hn=h.div(()=>({width:"100%",height:"20px",background:"linear-gradient(to right, #0300a3, #0080ff)",display:"flex",justifyContent:"space-between",alignItems:"center"})),gn=h.span(()=>({padding:"5px",color:"#fff",fontSize:"14px",fontWeight:"bold",fontFamily:"Arial"})),pn=h.button(()=>({border:"none",background:"none",cursor:"pointer",margin:"0",backgroundColor:"#c0c0c0",borderLeft:"1px solid #fff",borderTop:"1px solid #fff",borderBottom:"1px solid #000",borderRight:"1px solid #000",padding:"4px",marginRight:"2px",display:"flex",justifyContent:"center",alignItems:"center","&:active":{borderLeft:"1px solid #000",borderTop:"1px solid #000",borderBottom:"1px solid #fff",borderRight:"1px solid #fff"}})),W=t=>u(pn,{get style(){return{"font-size":`${t.fontSize}px`,width:`${t.width??"none"}px`,height:`${t.height??"none"}px`}},get onClick(){return t.onClick},get children(){return t.children}}),xn=h.div(()=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"20px"})),mn=h.div(()=>({fontFamily:"MS Sans Serif, Arial, sans-serif",fontSize:"14px",marginLeft:"20px"})),yn=h.div(()=>({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"10px"})),Pt=()=>{const e=document.getElementById("canvas").getContext("2d");e.fillStyle="#ffffff",e.fillRect(-5e3,-5e3,1e4,1e4)},vn=t=>{const e=new FileReader;e.onload=()=>{const n=new Image;n.src=e.result,n.onload=()=>{document.getElementById("canvas").getContext("2d").drawImage(n,0,0)}},e.readAsDataURL(t)};var N=(t=>(t[t.SAVE=0]="SAVE",t[t.NEW=1]="NEW",t[t.SAVE_AS=2]="SAVE_AS",t))(N||{}),Q=(t=>(t[t.PNG=0]="PNG",t[t.JPG=1]="JPG",t[t.BMP=2]="BMP",t))(Q||{});const Rt={0:{mimeType:"image/png",extension:".png"},1:{mimeType:"image/jpeg",extension:".jpg"},2:{mimeType:"image/bmp",extension:".bmp"}},Cn=(t,e)=>{const n=document.createElement("a");n.href=t,n.download=e,n.click()},St={reset:!1},wn=()=>{const e=document.getElementById("save-select").value,o=document.getElementById("save-input").value,i=document.getElementById("canvas"),s=Rt[e].mimeType,l=Rt[e].extension,r=i.toDataURL(s);Cn(r,`${o}${l}`),D(void 0),St.reset&&Pt()},bn=()=>{Pt(),D(void 0)},Pn=()=>{St.reset=!0,D({type:N.SAVE_AS,title:"Save As"})};var Sn=G("<img src=./warning.png alt=vite>");const Nt=()=>[u(xn,{get children(){return[Sn(),u(mn,{children:"Save changes to untitled?"})]}}),u(yn,{get children(){return[u(W,{fontSize:12,onClick:Pn,width:65,children:"Save"}),u(W,{fontSize:12,onClick:bn,width:65,children:"No"}),u(W,{fontSize:12,onClick:()=>D(void 0),width:65,children:"Cancel"})]}})],Tn=h.div(()=>({display:"flex",flexDirection:"column",alignItems:"end",justifyContent:"center",fontFamily:"MS Sans Serif, Arial, sans-serif",fontSize:"14px",width:"100%",paddingTop:"5px"})),An=h.input(()=>({width:"150px"})),kn=h.select(()=>({width:"157px"})),jt=h.div(()=>({width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",paddingBottom:"10px"})),Ut=h.div(()=>({width:"110px",textAlign:"right",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"})),Ft=h.div(()=>({width:"100px",textAlign:"left"}));var En=G("<option>PNG"),In=G("<option>JPG"),$n=G("<option>BMP");const Mn=()=>u(Tn,{get children(){return[u(jt,{get children(){return[u(Ft,{children:"File Name:"}),u(An,{id:"save-input",type:"text",value:"untitled"}),u(Ut,{get children(){return u(W,{onClick:wn,fontSize:14,width:70,children:"Save"})}})]}}),u(jt,{get children(){return[u(Ft,{children:"Save As Type:"}),u(kn,{id:"save-select",get children(){return[(()=>{var t=En();return I(()=>t.value=Q.PNG),t})(),(()=>{var t=In();return I(()=>t.value=Q.JPG),t})(),(()=>{var t=$n();return I(()=>t.value=Q.BMP),t})()]}}),u(Ut,{get children(){return u(W,{onClick:()=>D(void 0),fontSize:14,width:70,children:"Cancel"})}})]}})]}}),Ln=t=>[w(()=>w(()=>t.type===N.SAVE)()&&u(Nt,{})),w(()=>w(()=>t.type===N.NEW)()&&u(Nt,{})),w(()=>w(()=>t.type===N.SAVE_AS)()&&u(Mn,{}))],[ht,D]=O(void 0),Dn=()=>u(fn,{get children(){return u(Zt,{get when(){return ht()!==void 0},get children(){return u(dn,{get children(){return[u(hn,{get children(){return[u(gn,{get children(){return ht().title}}),u(W,{onClick:()=>D(void 0),fontSize:14,width:16,height:16,children:"x"})]}}),u(Ln,{get type(){return ht().type}})]}})}})}}),Bn=[{name:"File",items:[{title:"New",onClick:()=>D({type:N.SAVE,title:"Paint"})},{title:"Open",onClick:()=>{const t=document.createElement("input");t.type="file",t.onchange=e=>{var o;const n=(o=e.target.files)==null?void 0:o[0];n&&vn(n)},t.click()}},{title:"Save",onClick:()=>{St.reset=!1,D({type:N.SAVE_AS,title:"Paint"})}}]},{name:"Help",items:[{title:"Github",onClick:()=>window.open("https://github.com/justinnater/MS-Paint","_blank")}]}],On=()=>u(en,{get children(){return u(ct,{each:Bn,children:t=>u(un,{get name(){return t.name},get items(){return t.items}})})}}),Hn=h.div(({theme:t})=>({position:"relative",minWidth:"56px",maxWidth:"56px",height:"100%",borderRight:"1px solid #000",backgroundColor:t.colors.primary,display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"start",justifyContent:"end",paddingRight:"2px"})),Rn=h.div(({active:t})=>({width:"25px",height:"25px",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #000",borderRight:"1px solid #000",margin:"0px",padding:"0px",borderTop:"1px solid #fff",borderLeft:"1px solid #fff",...t&&{borderTop:"1px solid #000",borderLeft:"1px solid #000"}})),Nn=h.span(({imagePos:t})=>({display:"block",width:"16px",height:"16px",backgroundImage:"url('./tools.png')",backgroundRepeat:"no-repeat",backgroundPosition:`${t.x}px -${t.y}px`}));class P{constructor(){this.pointerHandler=void 0}onToolClose(){}onToolOpen(){}}class se{constructor(){this.boundOnPointerMove=this.onPointerMove.bind(this),this.boundHandlePointerUp=this.handlePointerUp.bind(this)}startPointerEventHandler(e){this.onPointerDown(e),window.addEventListener("pointermove",this.boundOnPointerMove),window.addEventListener("pointerup",this.boundHandlePointerUp)}handlePointerUp(e){this.onPointerUp(e),this.cleanUpPointerEventHandler()}cleanUpPointerEventHandler(){window.removeEventListener("pointermove",this.boundOnPointerMove),window.removeEventListener("pointerup",this.boundHandlePointerUp),window.removeEventListener("pointercancel",this.boundHandlePointerUp)}}const[V,Tt]=O("#000"),[Ct,jn]=O("#fff");class U extends se{getCanvasPosition(e){const n=this.getCanvas().getBoundingClientRect(),o=e.clientX-n.left,i=e.clientY-n.top;return{x:o,y:i}}getCanvas(){return document.getElementById("canvas")}getCanvasContext(){return this.getCanvas().getContext("2d")}getCanvasSnapshot(){return this.getCanvasContext().getImageData(0,0,this.getCanvas().width,this.getCanvas().height)}getActiveColor(){return V()}getSecondaryColor(){return Ct()}}class K extends U{constructor(){super(...arguments),this.startPoint=null,this.canvasSnapshot=null}onPointerDown(e){this.startPoint=this.getCanvasPosition(e),this.canvasSnapshot=this.getCanvasSnapshot(),this.getCanvasContext().lineWidth=this.lineWidth,this.getCanvasContext().setLineDash([]),this.getCanvasContext().strokeStyle=this.getActiveColor(),this.getCanvasContext().beginPath()}restoreImage(){this.getCanvasContext().putImageData(this.canvasSnapshot,0,0)}}const Un=h.div(()=>({position:"absolute",width:"1024px",height:"576px",pointerEvents:"none",overflow:"hidden"})),Fn=h.canvas(()=>{var t,e,n,o;return{position:"absolute",width:`${(t=L())==null?void 0:t.size.x}px`,height:`${(e=L())==null?void 0:e.size.y}px`,left:`${(n=L())==null?void 0:n.position.x}px`,top:`${(o=L())==null?void 0:o.position.y}px`,outline:"1px dashed #000",pointerEvents:"all"}});let _n=class extends se{constructor(){super(...arguments),this.initialPointerPosition={x:0,y:0}}onPointerDown(e){this.initialPointerPosition={x:e.clientX,y:e.clientY}}onPointerMove(e){const n=e.clientX-this.initialPointerPosition.x,o=e.clientY-this.initialPointerPosition.y,i=L();i&&(At({...i,position:{x:i.position.x+n,y:i.position.y+o}}),this.initialPointerPosition={x:e.clientX,y:e.clientY})}onPointerUp(){}};const Wn=()=>{const t=L();if(!t)return;document.getElementById("canvas").getContext("2d").putImageData(t.imageData,t.position.x,t.position.y),At(void 0)},[L,At]=O(void 0),Gn=()=>(lt(()=>{const t=L();if(!t)return;const e=document.getElementById("selection-box"),n=e.getContext("2d");e.width=t.size.x,e.height=t.size.y,n.putImageData(t.imageData,0,0)}),u(Un,{get children(){return w(()=>!!L())()&&u(bt,{onClickAway:()=>Wn(),get children(){return u(Fn,{id:"selection-box",onPointerDown:t=>{new _n().startPointerEventHandler(t)}})}})}}));class re extends K{constructor(){super(...arguments),this.lineWidth=2,this.points=[],this.isMoving=!1}onPointerDown(e){this.isMoving=!1,this.points=[this.getCanvasPosition(e)],super.onPointerDown(e),this.getCanvasContext().strokeStyle="black"}onPointerMove(e){this.isMoving||(this.canvasSnapshot=this.getCanvasSnapshot()),this.isMoving=!0,this.points.push(this.getCanvasPosition(e)),this.restoreImage()}onPointerUp(){if(!this.isMoving)return;const e=this.getRectangle();if(this.restoreImage(),e.w===0||e.h===0)return;const n=this.getCanvasContext().getImageData(e.x,e.y,e.w,e.h);this.getCanvasContext().fillStyle=this.getSecondaryColor(),this.getCanvasContext().fillRect(e.x,e.y,e.w,e.h),At({position:{x:e.x,y:e.y},size:{x:e.w,y:e.h},imageData:n,active:!0})}getRectangle(){if(this.points.length===0)return{x:0,y:0,w:0,h:0};const e=this.getCanvas(),n=e.width,o=e.height,i=Math.max(0,Math.min(...this.points.map(c=>c.x))),s=Math.max(0,Math.min(...this.points.map(c=>c.y))),l=Math.min(n,Math.max(...this.points.map(c=>c.x))),r=Math.min(o,Math.max(...this.points.map(c=>c.y)));return{x:i,y:s,w:Math.max(0,l-i),h:Math.max(0,r-s)}}}class zn extends re{onPointerMove(e){super.onPointerMove(e);for(let n=0;n<this.points.length;n++){const o=this.points[n],i=this.points[n+1];i&&(this.getCanvasContext().beginPath(),this.getCanvasContext().moveTo(o.x,o.y),this.getCanvasContext().lineTo(i.x,i.y),this.getCanvasContext().stroke())}}}class Vn extends P{constructor(){super(...arguments),this.imagePosition={x:0,y:0},this.pointerHandler=new zn}}class Xn extends re{onPointerMove(e){super.onPointerMove(e),this.points.length!==1&&(this.points=[this.points[0],this.getCanvasPosition(e)]);const n=this.getRectangle();this.getCanvasContext().beginPath(),this.getCanvasContext().rect(n.x,n.y,n.w,n.h),this.getCanvasContext().setLineDash([3,3]),this.getCanvasContext().stroke()}}class Yn extends P{constructor(){super(...arguments),this.imagePosition={x:-16,y:0},this.pointerHandler=new Xn}}class kt extends U{onPointerDown(e){const n=this.getCanvasPosition(e);this.getCanvasContext().setLineDash([]),this.getCanvasContext().lineWidth=this.lineWidth,this.getCanvasContext().beginPath(),this.getCanvasContext().strokeStyle=this.getActiveColor(),this.getCanvasContext().moveTo(n.x,n.y)}onPointerMove(e){const n=this.getCanvasPosition(e);this.getCanvasContext().lineTo(n.x,n.y),this.getCanvasContext().stroke()}onPointerUp(){this.getCanvasContext().closePath()}}class Kn extends kt{constructor(){super(...arguments),this.lineWidth=10}getActiveColor(){return this.getSecondaryColor()}}class qn extends P{constructor(){super(...arguments),this.imagePosition={x:-32,y:0},this.pointerHandler=new Kn}}class Jn extends U{onPointerDown(e){const n=this.getCanvasPosition(e);this.bucketFill(n.x,n.y,this.getActiveColor())}onPointerMove(){}onPointerUp(){}bucketFill(e,n,o){const i=this.getCanvasContext(),s=i.canvas,l=i.getImageData(0,0,s.width,s.height),r=l.data,[c,f,d]=this.parseColor(o),a=255,g=(n*s.width+e)*4,v=r[g],S=r[g+1],T=r[g+2],H=r[g+3];if(v===c&&S===f&&T===d&&H===a)return;const F=(x,y)=>{const k=(y*s.width+x)*4;return r[k]===v&&r[k+1]===S&&r[k+2]===T&&r[k+3]===H},A=(x,y)=>{const k=(y*s.width+x)*4;r[k]=c,r[k+1]=f,r[k+2]=d,r[k+3]=a},C=[[e,n]];for(;C.length;){const[x,y]=C.pop();x<0||y<0||x>=s.width||y>=s.height||F(x,y)&&(A(x,y),C.push([x+1,y]),C.push([x-1,y]),C.push([x,y+1]),C.push([x,y-1]))}i.putImageData(l,0,0)}parseColor(e){const o=document.createElement("canvas").getContext("2d");o.fillStyle=e,o.fillRect(0,0,1,1);const i=o.getImageData(0,0,1,1).data;return[i[0],i[1],i[2]]}}class Qn extends P{constructor(){super(...arguments),this.imagePosition={x:-48,y:0},this.pointerHandler=new Jn}}class Zn extends P{constructor(){super(...arguments),this.imagePosition={x:-80,y:0}}}class to extends U{onPointerDown(e){this.updateColor(e)}onPointerMove(e){this.updateColor(e)}onPointerUp(){le(It)}updateColor(e){const n=this.getCanvasPosition(e),o=this.getCanvasContext().getImageData(n.x,n.y,1,1).data;Tt(`rgb(${o[0]}, ${o[1]}, ${o[2]})`)}}class eo extends P{constructor(){super(...arguments),this.imagePosition={x:-64,y:0},this.pointerHandler=new to}}class no extends kt{constructor(){super(...arguments),this.lineWidth=1}}class oo extends P{constructor(){super(...arguments),this.imagePosition={x:-96,y:0},this.pointerHandler=new no}}class io extends kt{constructor(){super(...arguments),this.lineWidth=5}}class so extends P{constructor(){super(...arguments),this.imagePosition={x:-112,y:0},this.pointerHandler=new io}}class ro extends U{constructor(){super(...arguments),this.spraying=!1,this.sprayInterval=null}onPointerDown(e){this.spraying=!0;const n=this.getCanvasPosition(e);this.startSpraying(n.x,n.y)}onPointerMove(e){if(!this.spraying)return;const n=this.getCanvasPosition(e);this.updateSpraying(n.x,n.y)}onPointerUp(){this.spraying=!1,this.stopSpraying()}startSpraying(e,n){const o=this.getCanvasContext(),i=10,s=5,l=this.getActiveColor();this.sprayInterval=window.setInterval(()=>{for(let r=0;r<s;r++){const c=Math.random()*Math.PI*2,f=Math.random()*i,d=Math.cos(c)*f,a=Math.sin(c)*f;o.fillStyle=l,o.fillRect(e+d,n+a,1,1)}},5)}updateSpraying(e,n){this.sprayInterval&&(this.stopSpraying(),this.startSpraying(e,n))}stopSpraying(){this.sprayInterval!==null&&(window.clearInterval(this.sprayInterval),this.sprayInterval=null)}}class lo extends P{constructor(){super(...arguments),this.imagePosition={x:-128,y:0},this.pointerHandler=new ro}}const ao=h.div(()=>({position:"absolute",width:"1024px",height:"576px",pointerEvents:"none",overflow:"hidden"})),co=h.input(()=>{var t,e;return{position:"absolute",pointerEvents:"all",width:"100%",border:"none",background:"none",fontSize:"16px",fontFamily:"Arial",outline:"none",color:V(),left:`${(t=j())==null?void 0:t.position.x}px`,top:`${(e=j())==null?void 0:e.position.y}px`}}),[j,Et]=O(void 0),uo=()=>{const t=j();if(!t)return;const n=document.getElementById("canvas").getContext("2d");n.font="16px Arial",n.fillStyle=V(),n.fillText(t.text,t.position.x+2,t.position.y+16),Et(void 0)},fo=()=>(lt(()=>{j()&&requestAnimationFrame(()=>{const t=document.getElementById("text");t==null||t.focus()})}),u(ao,{get children(){return w(()=>!!j())()&&u(bt,{onClickAway:()=>{uo()},get children(){return u(co,{id:"text",type:"text",onInput:t=>{var e;Et({position:(e=j())==null?void 0:e.position,text:t.target.value})}})}})}}));class ho extends U{onPointerDown(e){if(j()!==void 0)return;const n=this.getCanvasPosition(e);Et({position:{x:n.x,y:n.y-8},text:""})}onPointerMove(){}onPointerUp(){}}class go extends P{constructor(){super(...arguments),this.imagePosition={x:-144,y:0},this.pointerHandler=new ho}}class po extends K{constructor(){super(...arguments),this.lineWidth=2}onPointerMove(e){this.restoreImage();const n=this.getCanvasPosition(e);this.getCanvasContext().beginPath(),this.getCanvasContext().moveTo(this.startPoint.x,this.startPoint.y),this.getCanvasContext().lineTo(n.x,n.y),this.getCanvasContext().stroke()}onPointerUp(){}}class xo extends P{constructor(){super(...arguments),this.imagePosition={x:-160,y:0},this.pointerHandler=new po}}class mo extends P{constructor(){super(...arguments),this.imagePosition={x:-176,y:0}}}class yo extends K{constructor(){super(...arguments),this.lineWidth=2}onPointerMove(e){this.restoreImage();const n=this.getCanvasPosition(e);this.getCanvasContext().beginPath(),this.getCanvasContext().rect(this.startPoint.x,this.startPoint.y,n.x-this.startPoint.x,n.y-this.startPoint.y),this.getCanvasContext().stroke()}onPointerUp(){}}class vo extends P{constructor(){super(...arguments),this.imagePosition={x:-192,y:0},this.pointerHandler=new yo}}class gt{static isPointInRangeOfPoint(e,n,o){return Math.abs(e.x-n.x)<=o&&Math.abs(e.y-n.y)<=o}}class Co extends U{constructor(){super(...arguments),this.lineWidth=2,this.points=[],this.snapShot=null,this.previousPoint=null,this.repeat=!1}onPointerDown(e){if(this.snapShot=this.getCanvasSnapshot(),!this.points.length)return;const n=this.getCanvasContext();n.setLineDash([]);const o=this.points[this.points.length-1];this.previousPoint=o;let i=this.getCanvasPosition(e);i.x===o.x&&i.y===o.y&&this.points.length>2&&(i=this.points[0],this.repeat=!0),gt.isPointInRangeOfPoint(this.points[0],i,10)&&(i=this.points[0]),this.points.push(i),n.lineWidth=this.lineWidth,n.strokeStyle=this.getActiveColor(),n.beginPath(),n.moveTo(o.x,o.y),n.lineTo(i.x,i.y),n.stroke(),this.repeat&&(this.points=[])}onPointerMove(e){if(this.repeat)return;if(!this.points.length){this.points.push(this.getCanvasPosition(e));return}this.points.length===1&&(this.previousPoint=this.points[0]),this.restoreImage();let n=this.getCanvasPosition(e);gt.isPointInRangeOfPoint(this.points[0],n,10)&&(n=this.points[0]);const o=this.getCanvasContext();o.setLineDash([]),o.lineWidth=this.lineWidth,o.strokeStyle=this.getActiveColor(),o.beginPath(),o.moveTo(this.previousPoint.x,this.previousPoint.y),o.lineTo(n.x,n.y),o.stroke()}onPointerUp(e){this.repeat=!1,this.points.length&&(this.points.push(this.getCanvasPosition(e)),gt.isPointInRangeOfPoint(this.points[0],this.getCanvasPosition(e),10)&&this.points.length>2&&(this.points=[]))}restoreImage(){this.getCanvasContext().putImageData(this.snapShot,0,0)}finalize(){this.points=[]}}class wo extends P{constructor(){super(...arguments),this.imagePosition={x:-208,y:0},this.pointerHandler=new Co}onToolClose(){this.pointerHandler.finalize()}}class bo extends K{constructor(){super(...arguments),this.lineWidth=2}onPointerMove(e){this.restoreImage();const n=this.getCanvasPosition(e),o=this.getCanvasContext(),i=(this.startPoint.x+n.x)/2,s=(this.startPoint.y+n.y)/2,l=Math.abs(n.x-this.startPoint.x)/2,r=Math.abs(n.y-this.startPoint.y)/2;o.beginPath(),o.ellipse(i,s,l,r,0,0,2*Math.PI),o.stroke()}onPointerUp(){}}class Po extends P{constructor(){super(...arguments),this.imagePosition={x:-224,y:0},this.pointerHandler=new bo}}class So extends K{constructor(){super(...arguments),this.lineWidth=2}onPointerMove(e){this.restoreImage();const n=this.getCanvasPosition(e),o=this.getCanvasContext(),i=Math.min(this.startPoint.x,n.x),s=Math.min(this.startPoint.y,n.y),l=Math.abs(n.x-this.startPoint.x),r=Math.abs(n.y-this.startPoint.y),f=Math.min(20,l/2,r/2);o.beginPath(),o.moveTo(i+f,s),o.lineTo(i+l-f,s),o.arcTo(i+l,s,i+l,s+f,f),o.lineTo(i+l,s+r-f),o.arcTo(i+l,s+r,i+l-f,s+r,f),o.lineTo(i+f,s+r),o.arcTo(i,s+r,i,s+r-f,f),o.lineTo(i,s+f),o.arcTo(i,s,i+f,s,f),o.stroke()}onPointerUp(){}}class To extends P{constructor(){super(...arguments),this.imagePosition={x:-240,y:0},this.pointerHandler=new So}}const Ao=new Vn,ko=new Yn,Eo=new qn,Io=new Qn,$o=new eo;new Zn;const It=new oo,Mo=new so,Lo=new lo,Do=new go,Bo=new xo;new mo;const Oo=new vo,Ho=new wo,Ro=new Po,No=new To,[$t,le]=O(It);let pt=null;lt(()=>{const t=$t();pt&&pt.onToolClose(),t&&t.onToolOpen(),pt=t});const jo=[Ao,ko,Eo,$o,Io,It,Mo,Lo,Do,Bo,Oo,Ho,Ro,No],Uo=t=>u(Rn,{get active(){return t.active},onClick:()=>le(t.tool),get children(){return u(Nn,{get imagePos(){return t.tool.imagePosition}})}}),Fo=()=>u(Hn,{get children(){return u(ct,{each:jo,children:t=>u(Uo,{tool:t,get active(){return t===$t()}})})}}),_o=h.div(({theme:t})=>({position:"absolute",width:"100%",height:"47px",backgroundColor:t.colors.primary,bottom:"23px",borderTop:"1px solid #000",display:"flex",alignItems:"center",paddingTop:"8px",paddingBottom:"8px",paddingLeft:"2px",boxSizing:"border-box",overflow:"hidden"})),Wo=h.div(()=>({position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:"34px",width:"256px",borderBottom:"1px solid #fff",borderRight:"1px solid #fff"})),Go=h.div(()=>({position:"relative",display:"grid",gridTemplateColumns:"repeat(14, 15px)",columnGap:"1px",rowGap:"2px",width:"50px"})),zo=h.div(({theme:t})=>({width:"30px",height:"30px",bottom:"23px",borderTop:`1px solid ${t.button.normal}`,borderRight:`1px solid ${t.button.light}`,borderBottom:`1px solid ${t.button.normal}`,boxShadow:`1px 1px 0px ${t.button.dark} inset`,backgroundColor:t.button.light})),_t=h.div(({x:t,y:e,color:n})=>({position:"absolute",left:`${t}px`,top:`${e}px`,width:"14px",height:"14px",backgroundColor:n,border:"1px solid #808080",borderTop:"1px solid #ffffff",borderLeft:"1px solid #ffffff"})),Vo=()=>u(zo,{onClick:()=>{const t=V();Tt(Ct()),jn(t)},get children(){return[u(_t,{x:12,y:12,get color(){return Ct()}}),u(_t,{x:5,y:5,get color(){return V()}})]}}),Xo=h.div(({color:t})=>({width:"12x",height:"12px",backgroundColor:t,borderTop:"2px solid #000",borderLeft:"1px solid #000",borderRight:"2px solid #c0c0c0"})),Yo=t=>u(Xo,{get onClick(){return t.onClick},get color(){return t.color}}),Ko=["#000000","#808080","#800000","#808000","#008000","#008080","#000080","#800080","#808040","#004040","#0080ff","#004080","#4000ff","#804000","#ffffff","#c0c0c0","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffff80","#00ff80","#80ffff","#8080ff","#ff0080","#FF8040"],qo=()=>u(_o,{get children(){return u(Wo,{get children(){return[u(Vo,{}),u(Go,{get children(){return u(ct,{each:Ko,children:t=>u(Yo,{color:t,onClick:()=>Tt(t)})})}})]}})}}),Jo=h.div(({theme:t})=>({position:"absolute",width:"100%",height:"23px",backgroundColor:t.colors.primary,borderTop:"1px solid #000",bottom:0})),Qo=()=>u(Jo,{}),Zo=h.div(()=>({width:"100%",height:"100%",backgroundColor:"#808080",paddingTop:"3px",paddingLeft:"3px"})),ti=h.canvas(()=>({position:"absolute",width:"1024px",height:"576px",backgroundColor:"#ffffff",cursor:"crosshair",userSelect:"none",touchAction:"none"})),ei=()=>(zt(()=>{Pt()}),u(Zo,{get children(){return[u(ti,{id:"canvas",width:1024,height:576,onPointerDown:t=>{var e;(e=$t().pointerHandler)==null||e.startPointerEventHandler(t)}}),u(Gn,{}),u(fo,{})]}})),ni=()=>u(Ze,{get children(){return[u(On,{}),u(tn,{get children(){return[u(Fo,{}),u(ei,{})]}}),u(qo,{}),u(Qo,{}),u(Dn,{})]}}),oi={colors:{primary:"#c0c0c0",black:"#000000"},button:{light:"#e0e0e0",normal:"#808080",dark:"#000000"}},ii=document.getElementById("root");De(()=>u(Je,{theme:oi,get children(){return u(ni,{})}}),ii);
